{"version":3,"sources":["./src/app/app.component.html","./src/app/example-mention-dropdown/example-mention-dropdown.component.html","./src/app/fate-bootstrap/fate-bootstrap.component.html","./src/app/fate-link-dropdown/fate-link-dropdown.component.html","./src/app/fate-material/fate-material.component.html","./src/app/fate-ui/fate-ui.component.html","./src/$_lazy_route_resource lazy namespace object","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/example-custom-html-parser.service.ts","./src/app/example-custom-parser.service.ts","./src/app/example-mention-dropdown/example-mention-dropdown.component.scss","./src/app/example-mention-dropdown/example-mention-dropdown.component.ts","./src/app/fate-bootstrap/fate-bootstrap.component.scss","./src/app/fate-bootstrap/fate-bootstrap.component.ts","./src/app/fate-controller.service.ts","./src/app/fate-fontawsome-legacy-icon.service.ts","./src/app/fate-html-parser.service.ts","./src/app/fate-icon.service.ts","./src/app/fate-input/fate-input.component.ts","./src/app/fate-link-dropdown/fate-link-dropdown.component.scss","./src/app/fate-link-dropdown/fate-link-dropdown.component.ts","./src/app/fate-material-icon.service.ts","./src/app/fate-material/fate-material.component.scss","./src/app/fate-material/fate-material.component.ts","./src/app/fate-node.ts","./src/app/fate-parser.service.ts","./src/app/fate-type.enum.ts","./src/app/fate-ui/fate-ui.component.scss","./src/app/fate-ui/fate-ui.component.ts","./src/app/fate.module.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["export default \"<div class=\\\"demo\\\">\\n  <div class=\\\"demo-type\\\">Simple UI</div>\\n  <form class=\\\"demo-editor\\\">\\n    <div class=\\\"form-group\\\">\\n      <fate-ui uiId=\\\"foo\\\"></fate-ui>\\n      <fate-input uiId=\\\"foo\\\" [(ngModel)]=\\\"aboutFate\\\" placeholder=\\\"Rich Textarea\\\" name=\\\"simple\\\"></fate-input>\\n    </div>\\n  </form>\\n</div>\\n<div class=\\\"demo\\\">\\n  <div class=\\\"demo-type\\\">Bootstrap4 UI</div>\\n  <form class=\\\"demo-editor\\\">\\n    <div class=\\\"form-group\\\">\\n      <fate-bootstrap [(ngModel)]=\\\"aboutFate\\\" name=\\\"bootstrap\\\" placeholder=\\\"Rich Textarea\\\"></fate-bootstrap>\\n    </div>\\n    <!-- remove to compare with default textarea <div class=\\\"form-group\\\">\\n      <textarea class=\\\"form-control\\\" name=\\\"bootstraptextarea\\\" placeholder=\\\"Default textarea\\\"></textarea>\\n    </div>-->\\n  </form>\\n</div>\\n<div class=\\\"demo material\\\">\\n  <div class=\\\"demo-type\\\">Material UI</div>\\n  <form class=\\\"demo-editor\\\">\\n    <div class=\\\"form-group\\\">\\n      <mat-form-field>\\n        <fate-material [(ngModel)]=\\\"aboutFate\\\" placeholder=\\\"Rich Textarea\\\" name=\\\"material\\\"></fate-material>\\n      </mat-form-field>\\n    </div>\\n    <!-- remove to compare with default textarea <div class=\\\"form-group\\\">\\n      <mat-form-field>\\n        <textarea matInput placeholder=\\\"Default textarea\\\" name=\\\"materialtextarea\\\"></textarea>\\n      </mat-form-field>\\n    </div>-->\\n  </form>\\n</div>\\n\\n<!--\\n  <strong>debug</strong>\\n  <textarea type=\\\"text\\\" [(ngModel)]=\\\"aboutFate\\\"  name=\\\"htmlSrc\\\"></textarea>\\n-->\\n\"","export default \"<ul>\\n  <li *ngFor=\\\"let repos of filteredList; let i = index\\\" [class.active]=\\\"i === selected\\\" class=\\\"repos\\\" (click)=\\\"changeValue(repos)\\\">{{repos.name}}</li>\\n</ul>\\n\"","export default \"<fate-input customClass=\\\"form-control\\\" [uiId]=\\\"uiId\\\" [row]=\\\"row\\\" [placeholder]=\\\"placeholder\\\" [ngModel]=\\\"passthrough\\\" (ngModelChange)=\\\"onChange($event)\\\"></fate-input>\\n<fate-ui [uiId]=\\\"uiId\\\" [buttons]=\\\"buttons\\\" [ngClass]=\\\"{'visible': uiVisible}\\\" class=\\\"tooltip tooltip-inner\\\"></fate-ui>\\n\"","export default \"<input type=\\\"text\\\" [ngModel]=\\\"value\\\" (ngModelChange)=\\\"changeValue($event)\\\" placeholder=\\\"http://\\\">\\n\"","export default \"<fate-input customClass=\\\"\\\" [uiId]=\\\"uiId\\\" [row]=\\\"row\\\" [ngModel]=\\\"passthrough\\\" (ngModelChange)=\\\"onChange($event)\\\"></fate-input>\\n<fate-ui class=\\\"mat-select-panel\\\" [uiId]=\\\"uiId\\\" [buttons]=\\\"buttons\\\" [ngClass]=\\\"{'visible': uiVisible}\\\"></fate-ui>\\n\"","export default \"<div>\\n  <ng-container *ngFor=\\\"let button of buttons\\\">\\n    <a *ngIf=\\\"button !== 'separator'\\\" class=\\\"fate-ui-button\\\" [ngClass]=\\\"{enabled: enabled[button], 'with-dropdown': dropdownAction === button}\\\" (click)=\\\"do($event, button)\\\">\\n      <span *ngIf=\\\"icon.getIcon(button)\\\" [innerHtml]=\\\"icon.getIcon(button)\\\"></span>\\n      <span *ngIf=\\\"!icon.getIcon(button)\\\">{{controller.getAction(button).label}}</span>\\n      <span class=\\\"reader\\\">{{controller.getAction(button).name}}</span>\\n    </a>\\n    <div *ngIf=\\\"button === 'separator'\\\" class=\\\"fate-ui-separator\\\"></div>\\n  </ng-container>\\n  <div class=\\\"fate-ui-dropdown\\\" [ngClass]=\\\"{visible: dropdownAction}\\\">\\n    <ng-template #dropdown></ng-template>\\n  </div>\\n</div>\\n\"","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","export default \":host {\\n  margin-top: -80px;\\n  display: flex;\\n  justify-content: space-evenly;\\n  text-align: center; }\\n  :host .demo {\\n    width: 30%;\\n    flex-grow: 0;\\n    flex-shrink: 100; }\\n  :host .demo.material .form-group {\\n      position: relative;\\n      background: #FFF;\\n      padding: 10px; }\\n  :host .demo.material .form-group mat-form-field {\\n        width: 100%; }\\n  :host .demo .demo-type {\\n      display: inline-block;\\n      margin: 0 auto;\\n      color: #FFF;\\n      font-size: 18px;\\n      font-weight: bold;\\n      padding: 10px 0;\\n      text-shadow: 0 3px 6px rgba(0, 0, 0, 0.5); }\\n  :host .demo .demo-editor {\\n      text-align: left;\\n      box-shadow: 0 3px 20px 0 rgba(0, 0, 0, 0.1); }\\n  ::ng-deep .custom-block {\\n  display: inline-block;\\n  padding: 1px 5px;\\n  border-radius: 3px;\\n  border: 1px solid #AAA;\\n  outline: 0;\\n  cursor: default;\\n  -moz-user-select: none;\\n  -webkit-user-modify: read-only; }\\n  ::ng-deep .custom-block:active, ::ng-deep .custom-block:focus {\\n    background: #EEE;\\n    border: 1px solid #999; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RyYXZpcy9idWlsZC9vbmFsdWYvZmF0ZS9zcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUFTLGlCQUFpQjtFQUN4QixhQUFhO0VBQ2IsNkJBQTZCO0VBQzdCLGtCQUFrQixFQUFBO0VBSHBCO0lBTUksVUFBVTtJQUNWLFlBQVk7SUFDWixnQkFBZ0IsRUFBQTtFQVJwQjtNQVdNLGtCQUFrQjtNQUNsQixnQkFBZ0I7TUFDaEIsYUFBYSxFQUFBO0VBYm5CO1FBZ0JRLFdBQVcsRUFBQTtFQWhCbkI7TUFxQk0scUJBQXFCO01BQ3JCLGNBQWM7TUFDZCxXQUFXO01BQ1gsZUFBZTtNQUNmLGlCQUFpQjtNQUNqQixlQUFlO01BQ2YseUNBQXlDLEVBQUE7RUEzQi9DO01BOEJNLGdCQUFnQjtNQUNoQiwyQ0FBMkMsRUFBQTtFQUtqRDtFQUNFLHFCQUFxQjtFQUNyQixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0QixVQUFVO0VBQ1YsZUFBZTtFQUNmLHNCQUFzQjtFQUN0Qiw4QkFBOEIsRUFBQTtFQVJoQztJQVlJLGdCQUFnQjtJQUNoQixzQkFBc0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuOmhvc3QgeyAgbWFyZ2luLXRvcDogLTgwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgLmRlbW8ge1xuICAgIHdpZHRoOiAzMCU7XG4gICAgZmxleC1ncm93OiAwO1xuICAgIGZsZXgtc2hyaW5rOiAxMDA7XG5cbiAgICAmLm1hdGVyaWFsIC5mb3JtLWdyb3VwIHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGJhY2tncm91bmQ6ICNGRkY7XG4gICAgICBwYWRkaW5nOiAxMHB4O1xuXG4gICAgICBtYXQtZm9ybS1maWVsZCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5kZW1vLXR5cGUge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICBjb2xvcjogI0ZGRjtcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgcGFkZGluZzogMTBweCAwO1xuICAgICAgdGV4dC1zaGFkb3c6IDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuNSlcbiAgICB9XG4gICAgLmRlbW8tZWRpdG9yIHtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBib3gtc2hhZG93OiAwIDNweCAyMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIH1cbiAgfVxufVxuXG46Om5nLWRlZXAgLmN1c3RvbS1ibG9jayB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcGFkZGluZzogMXB4IDVweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjQUFBO1xuICBvdXRsaW5lOiAwO1xuICBjdXJzb3I6IGRlZmF1bHQ7XG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC13ZWJraXQtdXNlci1tb2RpZnk6IHJlYWQtb25seTtcblxuICAmOmFjdGl2ZSxcbiAgJjpmb2N1cyB7XG4gICAgYmFja2dyb3VuZDogI0VFRTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOTk5O1xuICB9XG59XG4iXX0= */\"","import { Component } from '@angular/core';\n\nimport { FateControllerService } from './fate.module';\nimport { ExampleMentionDropdownComponent } from './example-mention-dropdown/example-mention-dropdown.component';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'app';\n  aboutFate = `<a class=\"repos custom-block\" tabindex=\"0\" contenteditable=\"false\" href=\"https://github.com/onaluf/fate\" title=\"Flexible Angular Text Editor\"><i class=\"fab fa-github\"></i> Fate</a> is a <strong>rich</strong> <em>text</em> <u>editor</u> (wysiwyg) natively written for angular (>= v2) in typescript with footprint and\n  flexibility in mind. Its goal is to be very easy to customise and be as small as\n  it can thanks to tree shaking.`;\n\n  constructor(fateControllerService: FateControllerService) {\n    fateControllerService.registerInlineAction(\n      'mention',\n      {\n        command: 'insertHTML',\n        display: 'contextual',\n        name: 'Mention',\n        regexp: /(@\\w*)$/,\n        matched: '',\n        dropdown: ExampleMentionDropdownComponent\n      }\n    )\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { MatFormFieldModule, MatInputModule } from '@angular/material';\n\n// Customization example\nimport { ExampleMentionDropdownComponent } from './example-mention-dropdown/example-mention-dropdown.component';\nimport { ExampleCustomHtmlParserService } from './example-custom-html-parser.service';\nimport { ExampleCustomParserService } from './example-custom-parser.service';\n\nimport { AppComponent } from './app.component';\n\nimport { FateModule, FateHtmlParserService, FateParserService } from './fate.module';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ExampleMentionDropdownComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    FateModule,\n    MatFormFieldModule,\n    MatInputModule,\n    BrowserAnimationsModule,\n  ],\n  entryComponents: [\n    ExampleMentionDropdownComponent\n  ],\n  bootstrap: [AppComponent],\n  providers: [\n    {provide: FateHtmlParserService, useClass: ExampleCustomHtmlParserService},\n    {provide: FateParserService, useClass: ExampleCustomParserService},\n  ]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\n\nimport { FateNode, FateType, FateHtmlParserService } from './fate.module';\n\n@Injectable()\nexport class ExampleCustomHtmlParserService extends FateHtmlParserService {\n\n  constructor() {\n    super();\n  }\n\n  public parseType(element: HTMLElement): Array<FateNode> {\n    if (element.nodeName === 'SPAN' && element.classList.contains('repos')) {\n      return [new FateNode(('mention' as FateType), {\n        url: element.getAttribute('data-href'),\n        description: element.getAttribute('title'),\n        name: element.textContent\n      })];\n    } else {\n      return super.parseType(element);\n    }\n  }\n\n  protected serializeType(node: FateNode) {\n    if ((node.type as string) === 'mention') {\n      return '<span class=\"repos custom-block\" tabindex=\"0\" contenteditable=\"false\" data-href=\"' + node.value.url + '\" title=\"' + node.value.description + '\"><i class=\"fab fa-github\"></i> ' + node.value.name + '</span>'\n    } else {\n      return super.serializeType(node);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateNode, FateType, FateParserService } from './fate.module';\n\n@Injectable()\nexport class ExampleCustomParserService extends FateParserService {\n\n  constructor() {\n    super();\n  }\n\n  public parseType(element: HTMLElement): Array<FateNode> {\n    if (element.nodeName === 'A' && element.classList.contains('repos')) {\n      return [new FateNode(('mention' as FateType), {\n        url: element.getAttribute('href'),\n        description: element.getAttribute('title'),\n        name: element.textContent\n      })];\n    } else {\n      return super.parseType(element);\n    }\n  }\n\n  protected serializeType(node: FateNode) {\n    if ((node.type as string) === 'mention') {\n      return '<a class=\"repos custom-block\" tabindex=\"0\" contenteditable=\"false\" data-href=\"' + node.value.url + '\" title=\"' + node.value.description + '\"><i class=\"fab fa-github\"></i> ' + node.value.name + '</a>'\n    } else {\n      return super.serializeType(node);\n    }\n  }\n}\n","export default \":host {\\n  display: block; }\\n  :host ul {\\n    padding: 0;\\n    margin: 0;\\n    list-style: none; }\\n  :host ul li {\\n      padding: 3px 5px;\\n      border-bottom: 1px solid #DDD;\\n      cursor: pointer; }\\n  :host ul li:last-child {\\n        border-bottom: 0; }\\n  :host ul li:hover {\\n        background: rgba(200, 200, 200, 0.5); }\\n  :host ul li.active {\\n        background: rgba(200, 200, 200, 0.5); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RyYXZpcy9idWlsZC9vbmFsdWYvZmF0ZS9zcmMvYXBwL2V4YW1wbGUtbWVudGlvbi1kcm9wZG93bi9leGFtcGxlLW1lbnRpb24tZHJvcGRvd24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjLEVBQUE7RUFEaEI7SUFJSSxVQUFVO0lBQ1YsU0FBUztJQUNULGdCQUFnQixFQUFBO0VBTnBCO01BU00sZ0JBQWdCO01BQ2hCLDZCQUE2QjtNQUM3QixlQUFlLEVBQUE7RUFYckI7UUFjUSxnQkFBZ0IsRUFBQTtFQWR4QjtRQWlCUSxvQ0FBa0MsRUFBQTtFQWpCMUM7UUFvQlEsb0NBQWtDLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9leGFtcGxlLW1lbnRpb24tZHJvcGRvd24vZXhhbXBsZS1tZW50aW9uLWRyb3Bkb3duLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcblxuICB1bCB7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcblxuICAgIGxpIHtcbiAgICAgIHBhZGRpbmc6IDNweCA1cHg7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0RERDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcblxuICAgICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMDtcbiAgICAgIH1cbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwMCwyMDAsMjAwLCAwLjUpO1xuICAgICAgfVxuICAgICAgJi5hY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwMCwyMDAsMjAwLCAwLjUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */\"","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\nimport { FateDropdown } from '../fate.module';\n\n@Component({\n  selector: 'example-fate-mention-dropdown',\n  templateUrl: './example-mention-dropdown.component.html',\n  styleUrls: ['./example-mention-dropdown.component.scss']\n})\nexport class ExampleMentionDropdownComponent implements FateDropdown {\n\n  private _value: string;\n  @Input()\n  public set value(value) {\n    this._value = value;\n    this.filterList();\n  }\n  public get value() {\n    return this._value;\n  }\n\n  @Output()\n  public valueChange = new EventEmitter<string>();\n\n  private reposList = [\n    {\n      name: 'Fate',\n      description: 'Flexible Angular Text Editor',\n      url: 'https://github.com/onaluf/fate'\n    }, {\n      name: 'ngLipsum',\n      description: 'Simple Lorem Ipsum based dummy content generator directive and services for Angular',\n      url: 'https://github.com/onaluf/ngLipsum'\n    }, {\n      name: 'RacerJS',\n      description: 'A simple racing game inspired by the classic Lotus series on Amiga. This has been made for the 10k Apart contest (http://10k.aneventapart.com).',\n      url: 'https://github.com/onaluf/RacerJS'\n    }, {\n      name: 'voxel',\n      description: 'a voxel spacing demo done in javascript',\n      url: 'https://github.com/onaluf/voxel'\n    }, {\n      name: 'gameQuery',\n      description: 'a javascript game engine with jQuery',\n      url: 'https://github.com/onaluf/gameQuery'\n    }, {\n      name: 'jQueryGameDevEssentials',\n      description: 'This is the source code for the example of the book \"jQuery Game Development Essentials\" (http://jquerygamedevelopment.com/)',\n      url: 'https://github.com/onaluf/jQueryGameDevEssentials'\n    }\n  ];\n  public selected = 0;\n\n  public filteredList: Array<any>;\n  private filterList() {\n    this.filteredList = [];\n    const criteria = this._value.substr(1);\n    for (const repos of this.reposList) {\n      if (repos.name.toLowerCase().indexOf(criteria.toLowerCase()) > -1) {\n        this.filteredList.push(repos);\n      }\n    }\n    if (this.selected >= this.filteredList.length) {\n      this.selected = Math.max(0, this.filteredList.length - 1);\n    }\n  }\n\n  public changeValue (value) {\n    this._value = value;\n    this.valueChange.emit('<span class=\"repos custom-block\" tabindex=\"0\" contenteditable=\"false\" data-href=\"' + value.url + '\" title=\"' + value.description + '\"><i class=\"fab fa-github\"></i> ' + value.name + '</span>&nbsp;');\n  }\n\n  public selectNext () {\n    this.selected++;\n    if (this.selected >= this.filteredList.length) {\n      this.selected = this.filteredList.length - 1;\n    }\n  };\n  public selecPrevious () {\n    this.selected--;\n    if (this.selected < 0) {\n      this.selected = 0;\n    }\n  };\n  public confirmSelection () {\n    this.changeValue(this.filteredList[this.selected]);\n  };\n}\n","export default \":host {\\n  margin-bottom: 10px;\\n  display: block;\\n  position: relative; }\\n  :host fate-ui {\\n    display: block;\\n    position: absolute;\\n    opacity: 0;\\n    pointer-events: none;\\n    transition: opacity 300ms;\\n    text-align: left;\\n    background: #222;\\n    color: #eee;\\n    max-width: 100%; }\\n  :host fate-ui.visible {\\n      opacity: 1;\\n      pointer-events: all; }\\n  :host fate-ui ::ng-deep .fate-ui-button:active, :host fate-ui ::ng-deep .fate-ui-button.enabled, :host fate-ui ::ng-deep .fate-ui-button.with-dropdown {\\n      background-color: #555; }\\n  :host fate-ui ::ng-deep .fate-ui-button:hover {\\n      background-color: #666; }\\n  :host fate-ui ::ng-deep .fate-ui-separator {\\n      background-color: #666 !important; }\\n  :host fate-ui ::ng-deep .fate-ui-dropdown {\\n      background-color: #555;\\n      border-color: #666; }\\n  :host fate-input ::ng-deep .fate-edit-target {\\n    resize: vertical;\\n    padding: .375rem .75rem; }\\n  :host fate-input ::ng-deep .fate-inline-dropdown {\\n    display: block;\\n    transition: opacity 300ms;\\n    background: #222;\\n    color: #eee;\\n    border-radius: .25rem;\\n    z-index: 1080; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RyYXZpcy9idWlsZC9vbmFsdWYvZmF0ZS9zcmMvYXBwL2ZhdGUtYm9vdHN0cmFwL2ZhdGUtYm9vdHN0cmFwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxrQkFBa0IsRUFBQTtFQUhwQjtJQU1JLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLG9CQUFvQjtJQUNwQix5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQixXQUFXO0lBRVgsZUFBZSxFQUFBO0VBZm5CO01Ba0JNLFVBQVU7TUFDVixtQkFBbUIsRUFBQTtFQW5CekI7TUEyQlUsc0JBQXNCLEVBQUE7RUEzQmhDO01BOEJVLHNCQUFzQixFQUFBO0VBOUJoQztNQWtDUSxpQ0FBaUMsRUFBQTtFQWxDekM7TUFxQ1Esc0JBQXNCO01BQ3RCLGtCQUFrQixFQUFBO0VBdEMxQjtJQThDUSxnQkFBZ0I7SUFDaEIsdUJBQXVCLEVBQUE7RUEvQy9CO0lBa0RRLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLFdBQVc7SUFDWCxxQkFBcUI7SUFDckIsYUFBYSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvZmF0ZS1ib290c3RyYXAvZmF0ZS1ib290c3RyYXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgZmF0ZS11aSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcztcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIGJhY2tncm91bmQ6ICMyMjI7XG4gICAgY29sb3I6ICNlZWU7XG5cbiAgICBtYXgtd2lkdGg6IDEwMCU7XG5cbiAgICAmLnZpc2libGUge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gICAgfVxuXG4gICAgOjpuZy1kZWVwIHtcbiAgICAgIC5mYXRlLXVpLWJ1dHRvbiB7XG4gICAgICAgICY6YWN0aXZlLFxuICAgICAgICAmLmVuYWJsZWQsXG4gICAgICAgICYud2l0aC1kcm9wZG93biB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbiAgICAgICAgfVxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuZmF0ZS11aS1zZXBhcmF0b3Ige1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAuZmF0ZS11aS1kcm9wZG93biB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7XG4gICAgICAgIGJvcmRlci1jb2xvcjogIzY2NjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmYXRlLWlucHV0IHtcbiAgICA6Om5nLWRlZXAge1xuICAgICAgLmZhdGUtZWRpdC10YXJnZXQge1xuICAgICAgICByZXNpemU6IHZlcnRpY2FsO1xuICAgICAgICBwYWRkaW5nOiAuMzc1cmVtIC43NXJlbTtcbiAgICAgIH1cbiAgICAgIC5mYXRlLWlubGluZS1kcm9wZG93biB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMjIyO1xuICAgICAgICBjb2xvcjogI2VlZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogLjI1cmVtO1xuICAgICAgICB6LWluZGV4OiAxMDgwO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */\"","import { Component, Input, ElementRef, HostListener, ComponentFactoryResolver } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nimport { FateUiComponent } from '../fate-ui/fate-ui.component';\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateParserService } from '../fate-parser.service';\nimport { FateIconService } from '../fate-icon.service';\n\nlet instanceCounter = 0;\n\n@Component({\n  selector: 'fate-bootstrap',\n  templateUrl: './fate-bootstrap.component.html',\n  styleUrls: ['./fate-bootstrap.component.scss'],\n  providers: [\n    {provide: NG_VALUE_ACCESSOR, useExisting: FateBootstrapComponent, multi: true}\n  ],\n})\nexport class FateBootstrapComponent extends FateUiComponent implements ControlValueAccessor {\n\n  @Input()\n  row: number;\n\n  @Input()\n  placeholder: string;\n\n  @Input()\n  public buttons: Array<string>;\n\n  // implentation of ControlValueAccessor:\n  protected changed = new Array<(value: string) => void>();\n  protected clickOngoing: boolean = false;\n\n  public passthrough: string;\n  public uiId;\n  public uiVisible;\n\n\n  @HostListener('focusout', ['$event'])\n  public blur (event: any){\n    if (!this.clickOngoing){\n      this.uiVisible = false;\n    }\n  }\n\n  @HostListener('mousedown', ['$event'])\n  public mousedown (event: any){\n    this.clickOngoing = true;\n  }\n\n  @HostListener('mouseup', ['$event'])\n  public mouseup (event: any){\n    this.clickOngoing = false;\n  }\n\n  @HostListener('focusin', ['$event'])\n  public focus (event: any){\n    this.uiVisible = true;\n  }\n\n  constructor(el: ElementRef, controller: FateControllerService, parser: FateParserService, icon: FateIconService, factoryResolver: ComponentFactoryResolver) {\n    super(el, controller, icon, parser, factoryResolver);\n    this.uiId = 'bootstrap-' + (instanceCounter++);\n  }\n\n  public writeValue(value: string) {\n    this.passthrough = value;\n  }\n\n  public registerOnChange(fn: (value: string) => void) {\n    this.changed.push(fn);\n  }\n\n  public registerOnTouched(fn: () => void) {}\n\n  // change callback\n  public onChange(value) {\n    this.passthrough = value;\n    this.changed.forEach(f => f(value));\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Subject } from 'rxjs';\n\nimport { FateType } from './fate-type.enum';\nimport { FateLinkDropdownComponent } from './fate-link-dropdown/fate-link-dropdown.component';\n\nexport interface FateCommand {\n  name: string;\n  value: any;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateControllerService {\n\n  // List of available commands, alphabetically\n  // see https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand\n  protected actionMapping = {\n    'bold' : {\n      command: 'bold',\n      name: 'Bold',\n      detect: FateType.BOLD\n    },\n    'italic' : {\n      command: 'italic',\n      name: 'Italic',\n      detect: FateType.ITALIC\n    },\n    'underline' : {\n      command: 'underline',\n      name: 'Underlined',\n      detect: FateType.UNDERLINE\n    },\n    'strike' : {\n      command: 'strikeThrough',\n      name: 'Strike Through',\n      detect: FateType.STRIKETHROUGH\n    },\n    'subscript' : {\n      command: 'subscript',\n      name: 'Subscript',\n      label: 'sub',\n      detect: FateType.SUBSCRIPT\n    },\n    'superscript' : {\n      command: 'superscript',\n      name: 'Superscript',\n      label: 'sup',\n      detect: FateType.SUPERSCRIPT\n    },\n    'heading1' : {\n      command: 'formatBlock',\n      value: 'H1',\n      option: 1,\n      name: '1st Header',\n      label: 'h1',\n      detect: FateType.HEADER1\n    },\n    'heading2' : {\n      command: 'formatBlock',\n      value: 'H2',\n      option: 2,\n      name: '2nd Header',\n      label: 'h2',\n      detect: FateType.HEADER2\n    },\n    'heading3' : {\n      command: 'formatBlock',\n      value: 'H3',\n      option: 3,\n      name: '3rd Header',\n      label: 'h3',\n      detect: FateType.HEADER3\n    },\n    'heading4' : {\n      command: 'formatBlock',\n      value: 'H4',\n      option: 4,\n      name: '4th Header',\n      label: 'h4',\n      detect: FateType.HEADER4\n    },\n    'heading5' : {\n      command: 'formatBlock',\n      value: 'H5',\n      option: 5,\n      name: '5th Header',\n      label: 'h5',\n      detect: FateType.HEADER5\n    },\n    'heading6' : {\n      command: 'formatBlock',\n      value: 'H6',\n      option: 6,\n      name: '6th Header',\n      label: 'h6',\n      detect: FateType.HEADER6\n    },\n    'normal' : {\n      command: 'formatBlock',\n      value: 'DIV',\n      name: 'Normal',\n      label: 'p',\n    },\n    'indent' : {\n      command: 'indent',\n      name: 'Indent',\n    },\n    'outdent' : {\n      command: 'outdent',\n      name: 'Outdent',\n    },\n    'ordered' : {\n      command: 'insertOrderedList',\n      name: 'Ordered List',\n      detect: FateType.ORDERED_LIST\n    },\n    'unordered' : {\n      command: 'insertUnorderedList',\n      name: 'Unorder List',\n      detect: FateType.UNORDERED_LIST\n    },\n    'center' : {\n      command: 'justifyCenter',\n      name: 'Center',\n      detect: FateType.ALIGN_CENTER\n    },\n    'justify' : {\n      command: 'justifyFull',\n      name: 'Justify',\n      detect: FateType.JUSTIFY\n    },\n    'left' : {\n      command: 'justifyLeft',\n      name: 'Left',\n      detect: FateType.ALIGN_LEFT\n    },\n    'right' : {\n      command: 'justifyRight',\n      name: 'Right',\n      detect: FateType.ALIGN_RIGHT\n    },\n    'undo' : {\n      command: 'undo',\n      name: 'Undo',\n    },\n    'redo' : {\n      command: 'redo',\n      name: 'Redo',\n    },\n    'clean' : {\n      command: 'removeFormat',\n      name: 'Remove Formating',\n    },\n    'link' : {\n      command: 'createLink',\n      undo: 'unlink',\n      name: 'Link',\n      detect: FateType.LINK,\n      dropdown: FateLinkDropdownComponent\n    }\n  };\n  public registerAction(name: string, action: any) {\n    if (this.actionMapping[name]) {\n      throw new Error('An action with the name \"' + name + '\" already exists!');\n    } else {\n      this.actionMapping[name] = action;\n    }\n  }\n  public getAction(actionName): boolean | any {\n    return this.actionMapping[actionName] || false;\n  }\n\n  protected inlineActionMapping: any = {};\n  public registerInlineAction(name: string, action: any) {\n    if (this.inlineActionMapping[name]) {\n      throw new Error('An inline action with the name \"' + name + '\" already exists!');\n    } else {\n      this.inlineActionMapping[name] = action;\n    }\n  }\n   public getInlineAction(context: string): boolean | any {\n    for (const action of Object.keys(this.inlineActionMapping)) {\n      const match = this.inlineActionMapping[action].regexp.exec(context);\n      if (match) {\n        this.inlineActionMapping[action].matched = match[1];\n        return this.inlineActionMapping[action];\n      }\n    }\n    return false;\n  }\n\n  protected commandsPipe = {\n    default: new Subject<FateCommand>()\n  };\n\n  protected enabledActions = {\n    default: new Subject<any>()\n  };\n\n  constructor() { }\n\n  public channel(channelId) {\n    if (!this.commandsPipe[channelId]) {\n      this.commandsPipe[channelId] = new Subject<FateCommand>();\n    }\n    return this.commandsPipe[channelId];\n  }\n\n  public enabled(channelId) {\n    if (!this.enabledActions[channelId]) {\n      this.enabledActions[channelId] = new Subject<any>();\n    }\n    return this.enabledActions[channelId];\n  }\n\n  public enableActions(channelId, nodes) {\n    const actions: Array<any> = [];\n    for (const node of nodes) {\n      for (const action in this.actionMapping) {\n        if (this.actionMapping[action].detect && this.actionMapping[action].detect === node.type) {\n          actions.push({action: action, value: node.value});\n        }\n      }\n    }\n    this.enabledActions[channelId].next(actions);\n  }\n\n\n  public do(channel, action, value?) {\n    if (this.actionMapping[action].dropdown && !value) {\n      if (this.actionMapping[action].undo) {\n        this.commandsPipe[channel].next({name: this.actionMapping[action].undo, value: this.actionMapping[action].value || value});\n      } else {\n        throw new Error('Action \"' + action + '\"doesn\\'t have a undo command');\n      }\n    } else {\n      this.commandsPipe[channel].next({name: this.actionMapping[action].command, value: this.actionMapping[action].value || value});\n    }\n  }\n\n  public doInline(channel, action, value?) {\n    if (action.dropdown && !value) {\n      if (action.undo) {\n        this.commandsPipe[channel].next({name: action.undo, value: action.value || value});\n      } else {\n        throw new Error('Action \"' + action + '\"doesn\\'t have a undo command');\n      }\n    } else {\n      this.commandsPipe[channel].next({name: action.command, value: action.value || value});\n    }\n  }\n\n  public undo(channel, action, value?) {\n    const mapping = this.actionMapping[action].undo;\n    // TODO\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateIconService } from './fate-icon.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateFontawsomeLegacyIconService extends FateIconService {\n\n  protected iconMapping = {\n    'bold' : '<i class=\"fa fa-bold\"></i>',\n    'italic' : '<i class=\"fa fa-italic\"></i>',\n    'underline' : '<i class=\"fa fa-underline\"></i>',\n    'strike' : '<i class=\"fa fa-strikethrough\"></i>',\n    'subscript' :  '<i class=\"fa fa-subscript\"></i>',\n    'superscript' : '<i class=\"fa fa-superscript\"></i>',\n    'indent' : '<i class=\"fa fa-indent\"></i>',\n    'outdent' : '<i class=\"fa fa-outdent\"></i>',\n    'ordered' : '<i class=\"fa fa-list-ol\"></i>',\n    'unordered' : '<i class=\"fa fa-list-ul\"></i>',\n    'center' : '<i class=\"fa fa-align-center\"></i>',\n    'justify' : '<i class=\"fa fa-align-justify\"></i>',\n    'left' : '<i class=\"fa fa-align-left\"></i>',\n    'right' : '<i class=\"fa fa-align-right\"></i>',\n    'undo' : '<i class=\"fa fa-undo\"></i>',\n    'redo' : '<i class=\"fa fa-repeat\"></i>',\n    'clean' : '<i class=\"fa fa-eraser\"></i>',\n    'link' : '<i class=\"fa fa-link\"></i>',\n  };\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateNode } from './fate-node';\nimport { FateType } from './fate-type.enum';\n\nimport { FateParser } from './fate-parser.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateHtmlParserService {\n\n  constructor() { }\n\n  public parse(html: string): FateNode {\n    const div = document.createElement('div');\n    div.innerHTML = html;\n    return this.parseElement(div);\n  };\n\n  public parseElement(element: HTMLElement): FateNode {\n    const nodes = this.parseType(element);\n    let currentNode = nodes[0];\n    for (let i = 1; i < nodes.length; i++) {\n      currentNode.children.push(nodes[i]);\n      currentNode = nodes[i];\n    }\n\n    for (let i = 0; i < element.childNodes.length; i ++) {\n      const child = element.childNodes[i];\n      // pick ahead to look for <br>\n      if (i < element.childNodes.length -1 && this.isLinebreak(element.childNodes[i + 1])) {\n        if (child instanceof Text) {\n          // wrap the text in a paragraph\n          let paragraph = new FateNode(FateType.PARAGRAPH);\n          paragraph.children.push(child.data);\n          currentNode.children.push(paragraph);\n        } else if (child instanceof HTMLElement) {\n          // insert an empty paragraph\n          currentNode.children.push(new FateNode(FateType.PARAGRAPH));\n          currentNode.children.push(this.parseElement(child));\n        } else {\n          // ignore\n        }\n      } else {\n        if (child instanceof Text) {\n          currentNode.children.push(child.data);\n        } else if (child instanceof HTMLElement) {\n          currentNode.children.push(this.parseElement(child));\n        } else {\n          // ignore\n        }\n      }\n    }\n    return nodes[0];\n  }\n\n  public findParentNodes(node: Node, until: Node): Array<FateNode> {\n    const nodes: Array<FateNode> = [];\n    let current: HTMLElement = (node.nodeType === 1) ? (node as HTMLElement) : node.parentElement;\n    while (current !== until) {\n      nodes.push(...this.parseType(current));\n      current = current.parentElement;\n    }\n    return nodes;\n  }\n\n  protected getAdditonalStyle(element: HTMLElement): Array<FateNode> {\n    const style = element.style;\n    switch (style.textAlign) {\n      case 'left':\n        return [new FateNode(FateType.ALIGN_LEFT)];\n      case 'center':\n        return [new FateNode(FateType.ALIGN_CENTER)];\n      case 'right':\n        return [new FateNode(FateType.ALIGN_RIGHT)];\n      case 'justify':\n        return [new FateNode(FateType.JUSTIFY)];\n    }\n    switch (element.getAttribute('align')) {\n      case 'left':\n        return [new FateNode(FateType.ALIGN_LEFT)];\n      case 'center':\n        return [new FateNode(FateType.ALIGN_CENTER)];\n      case 'right':\n        return [new FateNode(FateType.ALIGN_RIGHT)];\n      case 'justify':\n        return [new FateNode(FateType.JUSTIFY)];\n    }\n    return [];\n  }\n\n  protected parseType(element: HTMLElement): Array<FateNode> {\n    switch (element.nodeName) {\n      case 'H1':\n        return [new FateNode(FateType.HEADER1), ...this.getAdditonalStyle(element)];\n      case 'H2':\n        return [new FateNode(FateType.HEADER2), ...this.getAdditonalStyle(element)];\n      case 'H3':\n        return [new FateNode(FateType.HEADER3), ...this.getAdditonalStyle(element)];\n      case 'H4':\n        return [new FateNode(FateType.HEADER4), ...this.getAdditonalStyle(element)];\n      case 'H5':\n        return [new FateNode(FateType.HEADER5), ...this.getAdditonalStyle(element)];\n      case 'H6':\n        return [new FateNode(FateType.HEADER6), ...this.getAdditonalStyle(element)];\n      case 'B':\n      case 'STRONG':\n        return [new FateNode(FateType.BOLD)];\n      case 'I':\n      case 'EM':\n        return [new FateNode(FateType.ITALIC)];\n      case 'U':\n        return [new FateNode(FateType.UNDERLINE)];\n      case 'STRIKE':\n        return [new FateNode(FateType.STRIKETHROUGH)];\n      case 'SUB':\n        return [new FateNode(FateType.SUBSCRIPT)];\n      case 'SUP':\n        return [new FateNode(FateType.SUPERSCRIPT)];\n      case 'A':\n        return [new FateNode(FateType.LINK, element.getAttribute('href'))];\n      case 'OL':\n        return [new FateNode(FateType.ORDERED_LIST)];\n      case 'UL':\n        return [new FateNode(FateType.UNORDERED_LIST)];\n      case 'LI':\n        return [new FateNode(FateType.LISTITEM)];\n      case 'DIV':\n      case 'P':\n        const styles = this.getAdditonalStyle(element);\n        if (styles.length > 0) {\n          return [new FateNode(FateType.NONE), ...styles];\n        }\n        return [new FateNode(FateType.PARAGRAPH)];\n      case 'BLOCKQUOTE':\n        // FIXME: this doesn't work on FF\n        if (element.style.marginLeft === '40px') {\n          return [new FateNode(FateType.INDENT)];\n        }\n        return [new FateNode(FateType.NONE)];\n      default:\n        return [new FateNode(FateType.NONE)];\n    }\n  }\n\n  protected parseValue(element: HTMLElement): any {\n    switch (element.nodeName) {\n      case 'A':\n        return element.getAttribute('href');\n    }\n    return undefined;\n  }\n\n  protected serializeType(node: FateNode): string {\n    switch (node.type) {\n      case FateType.PARAGRAPH:\n        return '<div>' + this.serialize(node, true) + '</div>';\n      case FateType.HEADER1:\n        return '<h1>' + this.serialize(node, true) + '</h1>';\n      case FateType.HEADER2:\n        return '<h2>' + this.serialize(node, true) + '</h2>';\n      case FateType.HEADER3:\n        return '<h3>' + this.serialize(node, true) + '</h3>';\n      case FateType.HEADER4:\n        return '<h4>' + this.serialize(node, true) + '</h4>';\n      case FateType.HEADER5:\n        return '<h5>' + this.serialize(node, true) + '</h5>';\n      case FateType.HEADER6:\n        return '<h6>' + this.serialize(node, true) + '</h6>';\n      case FateType.QUOTE:\n        return '<quote>' + this.serialize(node) + '</quote>';\n      case FateType.CODE:\n        return '<code>' + this.serialize(node) + '</code>';\n      case FateType.SIZE:\n        return '<span style=\"font-size: ' + node.value + '\">' + this.serialize(node) + '</span>';\n      case FateType.BOLD:\n        return '<strong>' + this.serialize(node) + '</strong>';\n      case FateType.ITALIC:\n        return '<em>' + this.serialize(node) + '</em>';\n      case FateType.UNDERLINE:\n        return '<u>' + this.serialize(node) + '</u>';\n      case FateType.STRIKETHROUGH:\n        return '<strike>' + this.serialize(node) + '</strike>';\n      case FateType.SUBSCRIPT:\n        return '<sub>' + this.serialize(node) + '</sub>';\n      case FateType.SUPERSCRIPT:\n        return '<sup>' + this.serialize(node) + '</sup>';\n      case FateType.LINK:\n        return '<a href=\"' + node.value + '\">' + this.serialize(node) + '</a>';\n      case FateType.ORDERED_LIST:\n        return '<ol>' + this.serialize(node) + '</ol>';\n      case FateType.UNORDERED_LIST:\n        return '<ul>' + this.serialize(node) + '</ul>';\n      case FateType.LISTITEM:\n        return '<li>' + this.serialize(node) + '</li>';\n      case FateType.ALIGN_LEFT:\n        return '<div style=\"text-align: left;\">' + this.serialize(node, true) + '</div>';\n      case FateType.ALIGN_CENTER:\n        return '<div style=\"text-align: center;\">' + this.serialize(node, true) + '</div>';\n      case FateType.ALIGN_RIGHT:\n        return '<div style=\"text-align: right\">' + this.serialize(node, true) + '</div>';\n      case FateType.JUSTIFY:\n        return '<div style=\"text-align: justify;\">' + this.serialize(node, true) + '</div>';\n      case FateType.INDENT:\n        return '<blockquote style=\"margin-left: 40px\">' + this.serialize(node, true) + '</blockquote>';\n      case FateType.NONE:\n        return this.serialize(node);\n    }\n  };\n\n  protected isLinebreak(child: Node): boolean {\n    return (child instanceof HTMLElement && child.nodeName === 'BR');\n  }\n\n  // Saves a Tree in string representation\n  public serialize (node: FateNode, fallbackToBr: boolean = false): string {\n    let serialized = '';\n    node.children.forEach((child) => {\n      if (typeof child === 'string') {\n        serialized += child;\n      } else {\n        serialized += this.serializeType(child);\n      }\n    });\n    if (fallbackToBr && !serialized) {\n      serialized = '<br>';\n    }\n    return serialized;\n  };\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateIcon } from './fate-icon.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateIconService implements FateIcon {\n\n  protected iconMapping: any = {\n    'bold' : '<i class=\"fas fa-bold\"></i>',\n    'italic' : '<i class=\"fas fa-italic\"></i>',\n    'underline' : '<i class=\"fas fa-underline\"></i>',\n    'strike' : '<i class=\"fas fa-strikethrough\"></i>',\n    'subscript' :  '<i class=\"fas fa-subscript\"></i>',\n    'superscript' : '<i class=\"fas fa-superscript\"></i>',\n    'indent' : '<i class=\"fas fa-indent\"></i>',\n    'outdent' : '<i class=\"fas fa-outdent\"></i>',\n    'ordered' : '<i class=\"fas fa-list-ol\"></i>',\n    'unordered' : '<i class=\"fas fa-list-ul\"></i>',\n    'center' : '<i class=\"fas fa-align-center\"></i>',\n    'justify' : '<i class=\"fas fa-align-justify\"></i>',\n    'left' : '<i class=\"fas fa-align-left\"></i>',\n    'right' : '<i class=\"fas fa-align-right\"></i>',\n    'undo' : '<i class=\"fas fa-undo-alt\"></i>',\n    'redo' : '<i class=\"fas fa-redo-alt\"></i>',\n    'clean' : '<i class=\"fas fa-eraser\"></i>',\n    'link' : '<i class=\"fas fa-link\"></i>',\n  };\n\n  public getIcon(actionName): string {\n    return this.iconMapping[actionName];\n  }\n}\n","import { Component, Input, ViewChild, ElementRef, ViewRef, ViewContainerRef, ComponentFactoryResolver, OnInit, OnChanges, AfterViewInit, OnDestroy } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nimport { Subscription } from 'rxjs';\n\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateHtmlParserService } from '../fate-html-parser.service';\nimport { FateParserService } from '../fate-parser.service';\n\n@Component({\n  selector: 'fate-input',\n  template: `\n    <div class=\"fate-inline-dropdown\"\n         [class.hidden]=\"!inlineAction\"\n         [class.contextual]=\"inlineAction?.display === 'contextual'\"\n         [style.top]=\"dropdownPostionTop\"\n         [style.left]=\"dropdownPostionLeft\">\n      <ng-template #dropdown></ng-template>\n    </div>\n    <div [class]=\"'fate-edit-target ' + customClass\"\n         [ngClass]=\"{empty: empty}\"\n         contenteditable=\"true\"\n         [title]=\"placeholder\"\n         [innerHtml]=\"content\"></div>\n  `,\n  styles: [`\n    :host div.fate-edit-target {\n      display: block;\n      padding: 10px;\n      border: 1px solid #DDD;\n      outline: 0;\n      resize: vertical;\n      overflow: auto;\n      background: #FFF;\n      color: #000;\n      overflow: visible;\n    }\n    :host div.fate-edit-target.empty:not(:focus):before {\n      content:attr(title);\n      color: #636c72;\n    }\n    .fate-inline-dropdown {\n      border: 1px solid #DDD;\n      border-bottom: 0;\n    }\n    .fate-inline-dropdown.hidden {\n      display: none !important;\n    }\n    .fate-inline-dropdown.contextual {\n      position: absolute;\n      background: #FFF;\n      box-shadow: 0 5px 30px -10px rgba(0,0,0,0.4);\n      border-bottom: 1px solid #CCC;\n    }\n    :host {\n      margin-bottom: 10px;\n      /*position: relative;*/\n    }\n  `],\n  providers: [\n    {provide: NG_VALUE_ACCESSOR, useExisting: FateInputComponent, multi: true}\n  ],\n})\nexport class FateInputComponent implements ControlValueAccessor, OnChanges, OnInit, AfterViewInit, OnDestroy {\n\n  @Input()\n  public uiId: string = 'default';\n\n  @Input()\n  public row: number;\n\n  @Input()\n  public customClass: string;\n\n  @Input()\n  public placeholder: string = '';\n\n  @ViewChild('dropdown', {\n    read: ViewContainerRef,\n    static: true,\n  })\n  viewContainerRef: ViewContainerRef\n  protected dropdownComponent: ViewRef;\n  protected dropdownInstance: any;\n  public dropdownPostionTop: string;\n  public dropdownPostionLeft: string;\n  public inlineAction: any;\n\n  public content: SafeHtml;\n  public empty: boolean = true;\n  protected editTarget: any;\n  protected isFocused: boolean = false;\n\n  constructor(protected el: ElementRef, protected controller: FateControllerService, protected htmlParser: FateHtmlParserService, protected parser: FateParserService, protected sanitizer: DomSanitizer, protected factoryResolver: ComponentFactoryResolver) {}\n\n  public ngOnInit() {\n    this.subscribeToUi(this.uiId);\n  }\n\n  public ngAfterViewInit() {\n    this.editTarget = this.el.nativeElement.querySelector('.fate-edit-target');\n    if (this.row) {\n      this.computeHeight();\n    }\n\n    this.editTarget.addEventListener('click', (event: any)=> {\n      console.debug('click');\n      // On click we save the text Selection\n      this.saveSelection();\n      // We check if there is a dropdown matching this context\n      this.checkForDropdownContext();\n    });\n\n    this.editTarget.addEventListener('keyup', (event: any)=> {\n      console.debug('keypressed');\n      // On click we save the text Selection\n      this.saveSelection();\n      // We check if there is a dropdown matching this context\n      this.checkForDropdownContext();\n    });\n\n    this.editTarget.addEventListener('focus', (event: any)=> {\n      console.debug('(' + this.uiId + ') focus');\n      // On focus we restore it\n      this.restoreSelection();\n      this.isFocused = true;\n    });\n    this.editTarget.addEventListener('blur', (event: any)=> {\n      console.debug('(' + this.uiId + ') blur');\n      this.isFocused = false;\n      this.saveSelection();\n\n      if (this.dropdownComponent) {\n        setTimeout(() => {\n          this.inlineAction = null;\n          this.dropdownComponent.destroy();\n        }, 300);\n        // this.inlineAction = null;\n        // this.dropdownComponent.destroy();\n      }\n    });\n\n    this.editTarget.addEventListener('keydown', (event: any)=> {\n      console.debug('keydown', event);\n      const stopDefault = () => {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      const stopDefaultAndForceUpdate = () => {\n        stopDefault();\n        this.checkEmpty();\n        const tree = this.htmlParser.parseElement(this.editTarget);\n        this.changed.forEach(f => f(this.parser.serialize(tree)));\n      }\n      // This is needed because, if the current selection is part\n      // of a non-editable child of the input, the default delete won't\n      // work.\n      // This case can happen if there is a cutom element that\n      // was inserted by some custom controller.\n      //\n      // Some constraints for a custom block to work on top of contenteditable=false:\n      // -moz-user-select: none;\n      // -webkit-user-modify: read-only;\n      //\n      // Note: It may make sense to delete the selection for normal text\n      // input too but for now we only do it on deletion.\n      if (event.key === 'Backspace' || event.key === 'Delete' && this.selectionRange) {\n        const node = this.selectionRange.commonAncestorContainer;\n        console.debug('Deletion', node);\n        if (node instanceof HTMLElement && !(node as HTMLElement).isContentEditable) {\n          // this is the case on firefox\n          console.debug('deleting inside un-editable block detected');\n          this.selectionRange.selectNode(node);\n          this.selectionRange.deleteContents();\n          stopDefaultAndForceUpdate();\n        } else if (node.nodeName === '#text' && !node.parentElement.isContentEditable) {\n          // this is the case on webkit\n          console.debug('deleting inside un-editable block detected');\n          this.selectionRange.selectNode(node.parentElement);\n          this.selectionRange.deleteContents();\n          stopDefaultAndForceUpdate();\n        }\n      }\n      // This is needed because, there is a bug in Firefox that prevent\n      // deleting a uneditable element inside an editable element. So we\n      // reimplement the whole function for all browsers.\n      if (event.key === 'Backspace' && this.selectionRange) {\n        const node = this.selectionRange.commonAncestorContainer;\n        if (this.selectionRange.collapsed === true &&\n            this.selectionRange.startOffset === 0 &&\n            node.previousSibling instanceof HTMLElement &&\n            !(node.previousSibling as HTMLElement).isContentEditable ) {\n          node.previousSibling.remove();\n          stopDefaultAndForceUpdate();\n        }\n      } else if (event.key === 'Delete' && this.selectionRange) {\n        const node = this.selectionRange.commonAncestorContainer;\n        if (this.selectionRange.collapsed === true &&\n            this.selectionRange.endContainer.nodeName === '#text' &&\n            this.selectionRange.endOffset === (this.selectionRange.endContainer as Text).length &&\n            node.nextSibling instanceof HTMLElement &&\n            !(node.nextSibling as HTMLElement).isContentEditable ) {\n          node.nextSibling.remove();\n          stopDefaultAndForceUpdate();\n        }\n      }\n      // If a dropdown is currently being displayed we use the up/down\n      // key to navigate its content and return to select the selected\n      // element\n      if (this.inlineAction) {\n        if (event.key === 'Up' || event.key === 'ArrowUp') {\n          stopDefault();\n          this.dropdownInstance.selecPrevious();\n        } else if (event.key === 'Down' || event.key === 'ArrowDown') {\n          stopDefault();\n          this.dropdownInstance.selectNext();\n        } else if (event.key === 'Enter') {\n          stopDefault();\n          this.dropdownInstance.confirmSelection();\n        }\n      }\n    });\n\n    this.editTarget.addEventListener('input', (event: any)=> {\n      console.debug('value changed');\n      this.checkEmpty();\n      const tree = this.htmlParser.parseElement(this.editTarget);\n      this.changed.forEach(f => f(this.parser.serialize(tree)));\n    });\n    const style: any = window.getComputedStyle(this.editTarget);\n    this.editTarget.style.minHeight = this.getHeight(2);\n  }\n\n  public ngOnChanges(changes) {\n    if (changes['uiId']) {\n      this.subscribeToUi(this.uiId);\n    }\n    if (changes['row']) {\n      if (this.editTarget) {\n        this.computeHeight();\n      }\n    }\n  }\n\n  public ngOnDestroy() {\n    if (this.uiSubscription) {\n      this.uiSubscription.unsubscribe();\n    }\n  }\n\n  protected computeHeight() {\n    this.editTarget.style.height = this.getHeight(this.row);\n  }\n\n  protected checkEmpty() {\n    if (this.editTarget.innerHTML === '') {\n      this.editTarget.innerHTML = '<br>';\n      this.empty = true;\n    } else if (this.editTarget.innerHTML === '<br>') {\n      this.empty = true;\n    } else {\n      this.empty = false;\n    }\n  }\n\n  protected getHeight(rowCount) {\n    const style: any = window.getComputedStyle(this.editTarget);\n    let height = this.editTarget.style.height = (parseInt(style.lineHeight, 10) * rowCount);\n    if (style.boxSizing === 'border-box') {\n      height += parseInt(style.paddingTop, 10) + parseInt(style.paddingBottom, 10) + parseInt(style.borderTopWidth, 10) + parseInt(style.borderBottomWidth, 10);\n    }\n    return height + 'px';\n  }\n\n  protected uiSubscription: Subscription;\n  protected subscribeToUi(uiId) {\n    console.debug('subscribing to ' + uiId, this.uiSubscription);\n    if (this.uiSubscription) {\n      this.uiSubscription.unsubscribe();\n    }\n    this.uiSubscription = this.controller.channel(uiId).subscribe((command) => {\n      // if input is not on focus we save current focus:\n      const focus = document.activeElement;\n      console.debug('(' + uiId + ') got command ' + command.name + '/' + command.value);\n\n      this.restoreSelection();\n      if (command.name === 'insertHTML' && this.selectionRange) {\n        // If something is selected we assume that the goal is to replace it,\n        // so first we delete the content\n        this.selectionRange.deleteContents();\n        // insertHtml seems quite broken so we do it ourseleves\n        this.selectionRange.insertNode(document.createRange().createContextualFragment(command.value));\n        // move cusor to the end of the newly inserted element\n        this.selectionRange.collapse(false);\n        // Force the update of the model\n        this.checkEmpty();\n        const tree = this.htmlParser.parseElement(this.editTarget);\n        this.changed.forEach(f => f(this.parser.serialize(tree)));\n      } else {\n        document.execCommand(command.name, false, command.value);\n      }\n      this.saveSelection();\n      (focus as any).focus();\n    });\n  }\n\n  // Saves the current text selection\n  protected selectionRange: Range;\n  protected saveSelection() {\n    if (this.selectionInEditableTarget()) {\n      const sel = window.getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        this.selectionRange = sel.getRangeAt(0);\n        console.debug('(' + this.uiId + ') saveSelection', this.selectionRange);\n        this.detectStyle();\n      }\n    }\n  }\n  // Restors the current text selection\n  protected restoreSelection() {\n    if (this.selectionInEditableTarget()) {\n      return;\n    }\n    console.debug('(' + this.uiId + ') restoreSelection', this.selectionRange);\n    if (this.selectionRange) {\n      const sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(this.selectionRange);\n    }\n  }\n\n  protected selectionInEditableTarget() {\n    const sel = window.getSelection();\n    const node = sel.getRangeAt && sel.rangeCount && sel.getRangeAt(0) && sel.getRangeAt(0).commonAncestorContainer;\n    return node && (node === this.editTarget || (node.parentElement.closest('.fate-edit-target') && (node.parentElement.closest('.fate-edit-target') === this.editTarget)));\n  }\n\n  protected detectStyle() {\n    let node = this.selectionRange.commonAncestorContainer;\n    if (!node || (!(node.parentElement.closest('.fate-edit-target') && node !== this.editTarget))){\n      // The current selection is not contained in the editable zone.\n      // this is most likely due to the input being empty.\n      return;\n    }\n    // special cases for FF when selection is obtained by double click:\n    if ((this.selectionRange.endOffset === 0) &&\n        (this.selectionRange.startContainer.nodeValue) &&\n        (this.selectionRange.startOffset === this.selectionRange.startContainer.nodeValue.length)) {\n      node = this.selectionRange.startContainer.nextSibling;\n    } else if ((this.selectionRange.endOffset === 0) &&\n        (this.selectionRange.startOffset === 0)) {\n      node = this.selectionRange.startContainer.parentElement;\n    } else if ((this.selectionRange.commonAncestorContainer === this.editTarget) &&\n               (this.selectionRange.startContainer === this.editTarget) &&\n               (this.selectionRange.endContainer === this.editTarget)) {\n      node = this.selectionRange.commonAncestorContainer.childNodes[this.selectionRange.startOffset];\n    }\n    if (node && node !== this.editTarget) {\n      const nodes = this.htmlParser.findParentNodes(node, this.editTarget);\n      console.debug('  -> detected actions: ', nodes);\n      this.controller.enableActions(this.uiId, nodes);\n    }\n  }\n\n  // implentation of ControlValueAccessor:\n  protected changed = new Array<(value: string) => void>();\n\n  public writeValue(value: string) {\n    if (value) {\n      this.content = this.sanitizer.bypassSecurityTrustHtml(this.htmlParser.serialize(this.parser.parse(value)));\n      this.empty = false;\n    } else {\n      this.content = this.sanitizer.bypassSecurityTrustHtml('<br>');\n      this.empty = true;\n    }\n    this.selectionRange = undefined;\n  }\n\n  public registerOnChange(fn: (value: string) => void) {\n    this.changed.push(fn);\n  }\n\n  public registerOnTouched(fn: () => void) {}\n\n  protected checkForDropdownContext() {\n    const startPos = Math.max(this.selectionRange.startOffset - 20, 0);\n    const length = this.selectionRange.startOffset - startPos;\n    const context = this.selectionRange.startContainer.textContent.substr(startPos, length);\n\n    const inlineAction = this.controller.getInlineAction(context);\n    if (inlineAction) {\n      if (!this.inlineAction || this.inlineAction.dropdown !== inlineAction.dropdown) {\n        this.inlineAction = inlineAction;\n        this.initDropdown(inlineAction, this.selectionRange.getBoundingClientRect());\n      } else {\n        this.inlineAction = inlineAction;\n        this.updateDropdown(inlineAction.matched);\n      }\n    } else if (this.dropdownComponent) {\n      this.inlineAction = null;\n      this.dropdownComponent.destroy();\n    }\n  }\n\n  protected initDropdown(actionComponent, position) {\n    // set the dropdown component\n    if (this.dropdownComponent) {\n      this.dropdownComponent.destroy();\n    }\n    const factory = this.factoryResolver.resolveComponentFactory(actionComponent.dropdown);\n    const component: any = factory.create(this.viewContainerRef.parentInjector);\n    if (component.instance.valueChange) {\n      component.instance.value = actionComponent.matched;\n      component.instance.valueChange.subscribe((value) => {\n        this.editTarget.focus();\n        const end = this.selectionRange.endOffset;\n        this.selectionRange.setStart(this.selectionRange.endContainer, end - actionComponent.matched.length);\n        this.controller.doInline(this.uiId, this.inlineAction, value);\n        // delete the dropdown\n        this.inlineAction = null;\n        this.dropdownComponent.destroy();\n      });\n      this.dropdownComponent = this.viewContainerRef.insert(component.hostView);\n      this.dropdownInstance = component.instance;\n      this.updateDropdownPosition();\n    } else {\n      throw new Error('The component used as a dropdown doesn\\'t contain a valueChange emmiter!');\n    }\n  }\n\n  protected updateDropdown(value) {\n    this.dropdownInstance.value = value;\n    this.updateDropdownPosition();\n  }\n\n  protected updateDropdownPosition() {\n    if (this.inlineAction.display === 'contextual') {\n      // create a selection to get the size of the matching text\n      const parentOffsetBB = this.el.nativeElement.offsetParent.getBoundingClientRect();\n      const range = this.selectionRange.cloneRange();\n      const end = range.endOffset;\n      range.setStart(range.endContainer, end - this.inlineAction.matched.length);\n      const boundingBox = range.getBoundingClientRect();\n      this.dropdownPostionTop = (boundingBox.top + boundingBox.height - parentOffsetBB.top) + 'px';\n      this.dropdownPostionLeft = (boundingBox.left - parentOffsetBB.left) + 'px';\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZhdGUtbGluay1kcm9wZG93bi9mYXRlLWxpbmstZHJvcGRvd24uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\nimport { FateDropdown } from '../fate-dropdown.interface';\n\n@Component({\n  selector: 'fate-link-dropdown',\n  templateUrl: './fate-link-dropdown.component.html',\n  styleUrls: ['./fate-link-dropdown.component.scss']\n})\nexport class FateLinkDropdownComponent implements FateDropdown {\n\n  @Input()\n  public value: string;\n\n  @Output()\n  public valueChange = new EventEmitter<string>();\n\n  public changeValue (value) {\n    this.value = value;\n    this.valueChange.emit(value);\n  }\n\n  public selectNext () {};\n  public selecPrevious () {};\n  public confirmSelection () {};\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateIconService } from './fate-icon.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateMaterialIconService extends FateIconService {\n\n  protected iconMapping = {\n    'bold' : '<i class=\"material-icons\">format_bold</i>',\n    'italic' : '<i class=\"material-icons\">format_italic</i>',\n    'underline' : '<i class=\"material-icons\">format_underlined</i>',\n    'strike' : '<i class=\"material-icons\">format_strikethrough</i>',\n    'subscript' :  'x<sub>2</sub>',\n    'superscript' : 'x<sup>2</sup>',\n    'indent' : '<i class=\"material-icons\">format_indent_increase</i>',\n    'outdent' : '<i class=\"material-icons\">format_indent_decrease</i>',\n    'ordered' : '<i class=\"material-icons\">format_list_numbered</i>',\n    'unordered' : '<i class=\"material-icons\">format_list_bulleted</i>',\n    'center' : '<i class=\"material-icons\">format_align_center</i>',\n    'justify' : '<i class=\"material-icons\">format_align_justify</i>',\n    'left' : '<i class=\"material-icons\">format_align_left</i>',\n    'right' : '<i class=\"material-icons\">format_align_right</i>',\n    'undo' : '<i class=\"material-icons\">undo</i>',\n    'redo' : '<i class=\"material-icons\">redo</i>',\n    'clean' : '<i class=\"material-icons\">format_clear</i>',\n    'link' : '<i class=\"material-icons\">link</i>',\n  };\n}\n","export default \":host {\\n  display: block;\\n  position: relative; }\\n  :host fate-ui {\\n    display: block;\\n    position: absolute;\\n    opacity: 0;\\n    pointer-events: none;\\n    transition: opacity 300ms;\\n    text-align: left;\\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\\n    background: #FFF;\\n    z-index: 1;\\n    transform: translateY(10px);\\n    max-width: 100%;\\n    padding: 0; }\\n  :host fate-ui.visible {\\n      opacity: 1;\\n      pointer-events: all; }\\n  :host fate-ui ::ng-deep .fate-ui-button {\\n      height: 40px;\\n      line-height: 23px;\\n      padding: 7px 0 11px;\\n      width: 40px;\\n      border-radius: 0;\\n      margin-right: -4px;\\n      margin-bottom: 0;\\n      vertical-align: middle; }\\n  :host fate-ui ::ng-deep .fate-ui-button:active, :host fate-ui ::ng-deep .fate-ui-button.enabled, :host fate-ui ::ng-deep .fate-ui-button.with-dropdown {\\n        background-color: #EEE; }\\n  :host fate-ui ::ng-deep .fate-ui-button:hover {\\n        background-color: #DFDFDF; }\\n  :host fate-ui ::ng-deep .fate-ui-dropdown {\\n      background-color: #EEE; }\\n  :host fate-ui ::ng-deep .fate-ui-separator {\\n      margin-right: -4px;\\n      margin-top: 2px;\\n      margin-bottom: 2px;\\n      margin-left: -1px;\\n      height: 36px;\\n      border-radius: 0;\\n      width: 1px;\\n      vertical-align: middle;\\n      background-color: #DFDFDF; }\\n  :host fate-input ::ng-deep div.fate-edit-target {\\n    border: none;\\n    background: none;\\n    color: inherit;\\n    padding: 0;\\n    outline: none;\\n    font: inherit;\\n    resize: vertical;\\n    margin-bottom: 0; }\\n  :host fate-input ::ng-deep .fate-inline-dropdown {\\n    display: block;\\n    position: absolute;\\n    transition: opacity 300ms;\\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\\n    background: #FFF;\\n    z-index: 2;\\n    padding: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RyYXZpcy9idWlsZC9vbmFsdWYvZmF0ZS9zcmMvYXBwL2ZhdGUtbWF0ZXJpYWwvZmF0ZS1tYXRlcmlhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWM7RUFDZCxrQkFBa0IsRUFBQTtFQUZwQjtJQUtJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLG9CQUFvQjtJQUNwQix5QkFBeUI7SUFDekIsZ0JBQWdCO0lBRWhCLHFIQUF5RztJQUN6RyxnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLDJCQUEyQjtJQUczQixlQUFlO0lBT2YsVUFBVSxFQUFBO0VBekJkO01BcUJNLFVBQVU7TUFDVixtQkFBbUIsRUFBQTtFQXRCekI7TUEyQk0sWUFBWTtNQUNaLGlCQUFpQjtNQUNqQixtQkFBbUI7TUFDbkIsV0FBVztNQUVYLGdCQUFnQjtNQUNoQixrQkFBa0I7TUFDbEIsZ0JBQWdCO01BQ2hCLHNCQUFzQixFQUFBO0VBbkM1QjtRQXdDUSxzQkFBc0IsRUFBQTtFQXhDOUI7UUEyQ1EseUJBQXlCLEVBQUE7RUEzQ2pDO01BK0NNLHNCQUFzQixFQUFBO0VBL0M1QjtNQWtETSxrQkFBa0I7TUFDbEIsZUFBZTtNQUNmLGtCQUFrQjtNQUNsQixpQkFBaUI7TUFDakIsWUFBWTtNQUNaLGdCQUFnQjtNQUNoQixVQUFVO01BQ1Ysc0JBQXNCO01BQ3RCLHlCQUF5QixFQUFBO0VBMUQvQjtJQWlFUSxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxVQUFVO0lBQ1YsYUFBYTtJQUNiLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsZ0JBQWdCLEVBQUE7RUF4RXhCO0lBMkVRLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLHFIQUFxSDtJQUNySCxnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLFVBQVUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2ZhdGUtbWF0ZXJpYWwvZmF0ZS1tYXRlcmlhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICBmYXRlLXVpIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgb3BhY2l0eTogMDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG5cbiAgICBib3gtc2hhZG93OiAwIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLC4yKSwgMCA4cHggMTBweCAxcHggcmdiYSgwLDAsMCwuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsMCwwLC4xMik7XG4gICAgYmFja2dyb3VuZDogI0ZGRjtcbiAgICB6LWluZGV4OiAxO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTtcblxuXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuXG4gICAgJi52aXNpYmxlIHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIH1cblxuICAgIHBhZGRpbmc6IDA7XG4gICAgOjpuZy1kZWVwIC5mYXRlLXVpLWJ1dHRvbiB7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMjNweDtcbiAgICAgIHBhZGRpbmc6IDdweCAwIDExcHg7XG4gICAgICB3aWR0aDogNDBweDtcblxuICAgICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICAgIG1hcmdpbi1yaWdodDogLTRweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuXG4gICAgICAmOmFjdGl2ZSxcbiAgICAgICYuZW5hYmxlZCxcbiAgICAgICYud2l0aC1kcm9wZG93biB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG4gICAgICB9XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0RGREZERjtcbiAgICAgIH1cbiAgICB9XG4gICAgOjpuZy1kZWVwIC5mYXRlLXVpLWRyb3Bkb3duIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG4gICAgfVxuICAgIDo6bmctZGVlcCAuZmF0ZS11aS1zZXBhcmF0b3Ige1xuICAgICAgbWFyZ2luLXJpZ2h0OiAtNHB4O1xuICAgICAgbWFyZ2luLXRvcDogMnB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IC0xcHg7XG4gICAgICBoZWlnaHQ6IDM2cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgd2lkdGg6IDFweDtcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjREZERkRGO1xuICAgIH1cbiAgfVxuXG4gIGZhdGUtaW5wdXQge1xuICAgIDo6bmctZGVlcCB7XG4gICAgICBkaXYuZmF0ZS1lZGl0LXRhcmdldCB7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgICAgIHJlc2l6ZTogdmVydGljYWw7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICB9XG4gICAgICAuZmF0ZS1pbmxpbmUtZHJvcGRvd24ge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zO1xuICAgICAgICBib3gtc2hhZG93OiAwIDVweCA1cHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgOHB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XG4gICAgICAgIGJhY2tncm91bmQ6ICNGRkY7XG4gICAgICAgIHotaW5kZXg6IDI7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */\"","import { Component, Input, HostBinding, HostListener, Optional, Self, ElementRef, OnDestroy, ComponentFactoryResolver } from '@angular/core';\nimport { ControlValueAccessor, NgControl } from '@angular/forms';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\n\nimport { FateUiComponent } from '../fate-ui/fate-ui.component';\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateParserService } from '../fate-parser.service';\nimport { FateIconService } from '../fate-icon.service';\nimport { FateMaterialIconService } from '../fate-material-icon.service';\n\nimport { Subject } from 'rxjs';\n\nlet instanceCounter = 0;\n\n@Component({\n  selector: 'fate-material',\n  templateUrl: './fate-material.component.html',\n  styleUrls: ['./fate-material.component.scss'],\n  providers: [\n    { provide: MatFormFieldControl, useExisting: FateMaterialComponent },\n    { provide: FateIconService, useClass: FateMaterialIconService }\n  ],\n})\nexport class FateMaterialComponent extends FateUiComponent implements  ControlValueAccessor, OnDestroy, MatFormFieldControl<string>  {\n\n  @Input()\n  row: number;\n\n  @Input()\n  public buttons: Array<string>;\n\n  @Input()\n  public get value(): string {\n    return this.passthrough;\n  }\n  public set value(value: string) {\n    this.stateChanges.next();\n    this.passthrough = value;\n    this.changed.forEach(f => f(value));\n  }\n  public passthrough: string;\n\n  @Input()\n  get placeholder() {\n    return this._placeholder;\n  }\n  set placeholder(placeholder) {\n    this._placeholder = placeholder;\n    this.stateChanges.next();\n  }\n  protected _placeholder: string;\n\n  @HostBinding()\n  id = `${this.uiId}`;\n\n  @HostListener('focusout')\n  public blur() {\n    this.focused = false;\n    this.stateChanges.next();\n    if (!this.clickOngoing){\n      this.uiVisible = false;\n    }\n  }\n\n  @HostListener('focusin')\n  public focus() {\n    this.focused = true;\n    this.uiVisible = true;\n    this.stateChanges.next();\n  }\n\n  @HostListener('mousedown', ['$event'])\n  public mousedown (event: any){\n    this.clickOngoing = true;\n  }\n\n  @HostListener('mouseup', ['$event'])\n  public mouseup (event: any){\n    this.clickOngoing = false;\n  }\n  public clickOngoing = false;\n  public uiVisible = false;\n\n  get empty() {\n    return !this.passthrough || this.passthrough === '';\n  }\n\n  get shouldLabelFloat() {\n    return this.focused || !this.empty;\n  }\n\n  @Input()\n  get required() {\n    return this._required;\n  }\n  set required(req) {\n    this._required = coerceBooleanProperty(req);\n    this.stateChanges.next();\n  }\n  protected _required = false;\n\n  @Input()\n  get disabled() {\n    return this._disabled;\n  }\n  set disabled(dis) {\n    this._disabled = coerceBooleanProperty(dis);\n    this.stateChanges.next();\n  }\n  protected _disabled = false;\n\n  public errorState = false;\n\n  public controlType = 'fate-material';\n\n  @HostBinding('attr.aria-describedby')\n  describedBy = '';\n\n  public setDescribedByIds(ids: string[]) {\n    this.describedBy = ids.join(' ');\n  }\n\n  public onContainerClick(event: MouseEvent) {}\n\n  public uiId;\n  public stateChanges = new Subject<void>();\n  public focused = false;\n\n  protected changed = new Array<(value: string) => void>();\n\n  constructor(controller: FateControllerService, parser: FateParserService, icon: FateIconService, el: ElementRef, @Optional() @Self() public ngControl: NgControl, factoryResolver: ComponentFactoryResolver) {\n    super(el, controller, icon, parser, factoryResolver);\n    this.uiId = 'material-' + (instanceCounter++);\n    // Setting the value accessor directly (instead of using\n    // the providers) to avoid running into a circular import.\n    if (this.ngControl != null) {\n      this.ngControl.valueAccessor = this;\n    }\n  }\n\n  public onChange(value) {\n    this.passthrough = value;\n    this.changed.forEach(f => f(value));\n    this.stateChanges.next();\n  }\n\n  public ngOnDestroy() {\n    this.stateChanges.complete();\n  }\n\n  public writeValue(value: string) {\n    this.passthrough = value;\n    this.stateChanges.next();\n  }\n\n  public registerOnChange(fn: (value: string) => void) {\n    this.changed.push(fn);\n  }\n\n  public registerOnTouched(fn: () => void) {}\n}\n","import { FateType } from './fate-type.enum';\n\nexport class FateNode {\n  constructor(public type: FateType = FateType.NONE, public value?: any) {}\n\n  public children: Array<FateNode | string> = [];\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateHtmlParserService } from './fate-html-parser.service';\nimport { FateParser } from './fate-parser.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateParserService extends FateHtmlParserService implements FateParser {}\n","export enum FateType {\n  NONE = 'NONE',\n  PARAGRAPH = 'PARAGRAPH',\n  HEADER1 = 'HEADER1',\n  HEADER2 = 'HEADER2',\n  HEADER3 = 'HEADER3',\n  HEADER4 = 'HEADER4',\n  HEADER5 = 'HEADER5',\n  HEADER6 = 'HEADER6',\n  QUOTE = 'QUOTE',\n  CODE = 'CODE',\n  SIZE = 'SIZE',\n  BOLD = 'BOLD',\n  HIGHLIGHT = 'HIGHLIGHT',\n  SUBSCRIPT = 'SUBSCRIPT',\n  SUPERSCRIPT = 'SUPERSCRIPT',\n  STRIKETHROUGH = 'STRIKETHROUGH',\n  ITALIC = 'ITALIC',\n  COLOR = 'COLOR',\n  UNDERLINE = 'UNDERLINE',\n  LINK = 'LINK',\n  ALIGN_LEFT = 'ALIGN_LEFT',\n  ALIGN_CENTER = 'ALIGN_CENTER',\n  ALIGN_RIGHT = 'ALIGN_RIGHT',\n  JUSTIFY = 'JUSTIFY',\n  ORDERED_LIST = 'ORDERED_LIST',\n  UNORDERED_LIST = 'UNORDERED_LIST',\n  LISTITEM = 'LISTITEM',\n  INDENT = 'INDENT',\n}\n","export default \":host {\\n  border: 1px solid #DDD;\\n  border-bottom: 0;\\n  display: block;\\n  box-sizing: border-box;\\n  padding: 5px;\\n  background: #FFF;\\n  color: #333;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  position: relative;\\n  overflow: visible; }\\n\\n.fate-ui-separator {\\n  display: inline-block;\\n  width: 2px;\\n  height: 14px;\\n  vertical-align: middle;\\n  background-color: #DDD;\\n  border-radius: 2px; }\\n\\n.fate-ui-button {\\n  display: inline-block;\\n  height: 25px;\\n  width: 25px;\\n  text-align: center;\\n  line-height: 25px;\\n  margin-bottom: 3px;\\n  vertical-align: middle;\\n  cursor: pointer;\\n  font-size: 14px;\\n  box-sizing: border-box;\\n  transition: background 300ms;\\n  border-radius: 3px; }\\n\\n.fate-ui-button:active, .fate-ui-button.enabled, .fate-ui-button.with-dropdown {\\n    background-color: #E5E5E5; }\\n\\n.fate-ui-button:hover {\\n    background-color: #CCC; }\\n\\n.fate-ui-button span.reader {\\n    display: none; }\\n\\n.fate-ui-dropdown {\\n  opacity: 0;\\n  pointer-events: none;\\n  z-index: 1;\\n  font-size: 14px;\\n  -webkit-user-select: all;\\n     -moz-user-select: all;\\n      -ms-user-select: all;\\n          user-select: all;\\n  box-sizing: border-box;\\n  border-radius: 3px;\\n  background-color: #E5E5E5;\\n  position: absolute;\\n  padding: 10px;\\n  border-bottom: 1px solid #CCC;\\n  box-shadow: 0 10px 10px -10px rgba(0, 0, 0, 0.3); }\\n\\n.fate-ui-dropdown.visible {\\n    opacity: 1;\\n    pointer-events: all; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RyYXZpcy9idWlsZC9vbmFsdWYvZmF0ZS9zcmMvYXBwL2ZhdGUtdWkvZmF0ZS11aS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNFLHNCQUFzQjtFQUN0QixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCx5QkFBaUI7S0FBakIsc0JBQWlCO01BQWpCLHFCQUFpQjtVQUFqQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGlCQUFpQixFQUFBOztBQUVuQjtFQUNFLHFCQUFxQjtFQUNyQixVQUFVO0VBQ1YsWUFqQmM7RUFrQmQsc0JBQXNCO0VBQ3RCLHNCQUFzQjtFQUN0QixrQkFBa0IsRUFBQTs7QUFFcEI7RUFDRSxxQkFBcUI7RUFDckIsWUF6QmdCO0VBMEJoQixXQTFCZ0I7RUEyQmhCLGtCQUFrQjtFQUNsQixpQkE1QmdCO0VBNkJoQixrQkFBa0I7RUFDbEIsc0JBQXNCO0VBQ3RCLGVBQWU7RUFDZixlQS9CYztFQWdDZCxzQkFBc0I7RUFFdEIsNEJBQTRCO0VBQzVCLGtCQUFrQixFQUFBOztBQWJwQjtJQWtCSSx5QkFBeUIsRUFBQTs7QUFsQjdCO0lBcUJJLHNCQUFzQixFQUFBOztBQXJCMUI7SUF5QkksYUFBYSxFQUFBOztBQUdqQjtFQUNFLFVBQVU7RUFDVixvQkFBb0I7RUFDcEIsVUFBVTtFQUNWLGVBQWU7RUFDZix3QkFBZ0I7S0FBaEIscUJBQWdCO01BQWhCLG9CQUFnQjtVQUFoQixnQkFBZ0I7RUFDaEIsc0JBQXNCO0VBRXRCLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYiw2QkFBNkI7RUFFN0IsZ0RBQWdELEVBQUE7O0FBZGxEO0lBaUJJLFVBQVU7SUFDVixtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2ZhdGUtdWkvZmF0ZS11aS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRidXR0b24tc2l6ZTogMjVweDtcbiRmb250LXNpemU6IDE0cHg7XG5cbjpob3N0IHtcbiAgYm9yZGVyOiAxcHggc29saWQgI0RERDtcbiAgYm9yZGVyLWJvdHRvbTogMDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBhZGRpbmc6IDVweDtcbiAgYmFja2dyb3VuZDogI0ZGRjtcbiAgY29sb3I6ICMzMzM7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG92ZXJmbG93OiB2aXNpYmxlO1xufVxuLmZhdGUtdWktc2VwYXJhdG9yIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMnB4O1xuICBoZWlnaHQ6ICRmb250LXNpemU7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNEREQ7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbn1cbi5mYXRlLXVpLWJ1dHRvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAkYnV0dG9uLXNpemU7XG4gIHdpZHRoOiAkYnV0dG9uLXNpemU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6ICRidXR0b24tc2l6ZTtcbiAgbWFyZ2luLWJvdHRvbTogM3B4O1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogJGZvbnQtc2l6ZTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcblxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDMwMG1zO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG5cbiAgJjphY3RpdmUsXG4gICYuZW5hYmxlZCxcbiAgJi53aXRoLWRyb3Bkb3duIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTVFNUU1O1xuICB9XG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNDQ0M7XG4gIH1cblxuICBzcGFuLnJlYWRlciB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufVxuLmZhdGUtdWktZHJvcGRvd24ge1xuICBvcGFjaXR5OiAwO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgei1pbmRleDogMTtcbiAgZm9udC1zaXplOiAxNHB4O1xuICB1c2VyLXNlbGVjdDogYWxsO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0U1RTVFNTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0NDQztcblxuICBib3gtc2hhZG93OiAwIDEwcHggMTBweCAtMTBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG5cbiAgJi52aXNpYmxlIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gIH1cbn1cbiJdfQ== */\"","import { Component, Input, ElementRef, HostListener, OnChanges, AfterViewInit, ComponentFactoryResolver, ViewChild, ViewContainerRef, ViewRef } from '@angular/core';\n\nimport { Subscription } from 'rxjs';\n\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateParserService } from '../fate-parser.service';\nimport { FateIconService } from '../fate-icon.service';\n\n@Component({\n  selector: 'fate-ui',\n  templateUrl: './fate-ui.component.html',\n  styleUrls: ['./fate-ui.component.scss']\n})\nexport class FateUiComponent implements OnChanges, AfterViewInit {\n\n  @Input()\n  public uiId: string = 'default';\n\n  @Input()\n  public buttons: Array<string> = [\n    'bold',\n    'italic',\n    'underline',\n    'strike',\n    'separator',\n    'subscript',\n    'superscript',\n    'link',\n    'separator',\n    'heading1',\n    'heading2',\n    'heading3',\n    'heading4',\n    'heading5',\n    'heading6',\n    'normal',\n    'separator',\n    'indent',\n    'outdent',\n    'ordered',\n    'unordered',\n    'separator',\n    'center',\n    'justify',\n    'left',\n    'right',\n    'separator',\n    'undo',\n    'redo',\n    'clean'\n  ];\n\n  public enabled: any = {};\n  public dropdownAction: boolean | string = false;\n  public dropdownValue: string;\n  protected dropdownComponent: ViewRef;\n\n  protected inputSubscription: Subscription;\n\n  constructor(protected el: ElementRef, public controller: FateControllerService, public icon: FateIconService, protected parser: FateParserService, protected factoryResolver: ComponentFactoryResolver) { }\n\n  @HostListener('mousedown', ['$event'])\n  public mouseDown(event) {\n    if (!event.target.closest('.fate-ui-dropdown')) {\n      event.preventDefault();\n    }\n  }\n\n  @ViewChild('dropdown', {\n    read: ViewContainerRef,\n    static: true,\n  })\n  viewContainerRef: ViewContainerRef\n\n  public do(event, action) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.controller.getAction(action).dropdown) {\n      if (action === this.dropdownAction) {\n        this.dropdownAction = false;\n      } else {\n        let button = event.target;\n        if (!button.classList.contains('fate-ui-button')) {\n          button = button.closest('.fate-ui-button');\n        }\n        const dropdown =  this.el.nativeElement.querySelector('.fate-ui-dropdown');\n\n        // Enable the dropdown\n\n        this.dropdownValue = this.enabled[action];\n        console.debug('action has value', button, dropdown, this.dropdownValue);\n        this.initDropdown(this.controller.getAction(action).dropdown, this.dropdownValue);\n\n        // Postion the dropdown\n        setTimeout(() => {\n          const buttonSize = button.getBoundingClientRect();\n          const dropdownSize =  dropdown.getBoundingClientRect();\n          let leftPosition = button.offsetLeft + (buttonSize.width / 2) - (dropdownSize.width / 2);\n          // make sure the dropdown is not bleeding out of the viewport\n          if (buttonSize.left + window.pageXOffset + (buttonSize.width / 2) - (dropdownSize.width / 2) < 3) {\n            leftPosition = - buttonSize.left - window.pageXOffset + button.offsetLeft + 3;\n          } else if (buttonSize.left + window.pageXOffset + (buttonSize.width / 2) + (dropdownSize.width / 2) > window.innerWidth - 3) {\n            leftPosition = window.innerWidth - buttonSize.left - window.pageXOffset + button.offsetLeft - dropdownSize.width - 3;\n          }\n          const topPosition = button.offsetTop + buttonSize.height - 3;\n          dropdown.style.left = leftPosition + 'px';\n          dropdown.style.top = topPosition + 'px';\n          // make the dropdown visible\n          this.dropdownAction = action;\n        }, 0);\n      }\n    } else {\n      this.dropdownAction = false;\n      this.controller.do(this.uiId, action);\n    }\n  }\n\n  protected getOffset(element) {\n    let top = 0;\n    let left = 0;\n    do {\n        top += element.offsetTop  || 0;\n        left += element.offsetLeft || 0;\n        element = element.offsetParent;\n    } while (element);\n\n    return {\n        top: top,\n        left: left\n    };\n  }\n\n  protected initDropdown(actionComponent, value) {\n    if (this.dropdownComponent) {\n      this.dropdownComponent.destroy();\n    }\n    const factory = this.factoryResolver.resolveComponentFactory(actionComponent);\n    const component: any = factory.create(this.viewContainerRef.parentInjector);\n    if (component.instance.valueChange) {\n      component.instance.value = value;\n      component.instance.valueChange.subscribe((newValue) => {\n        this.dropdownValue = newValue;\n        this.controller.do(this.uiId, this.dropdownAction, newValue);\n      });\n      this.dropdownComponent = this.viewContainerRef.insert(component.hostView);\n    } else {\n      throw new Error('The component used as a dropdown doesn\\'t contain a valueChange emmiter!');\n    }\n  }\n\n  public ngOnChanges(changes) {\n    if (changes['uiId']) {\n      if (this.inputSubscription) {\n        this.inputSubscription.unsubscribe();\n      }\n      this.inputSubscription = this.controller.enabled(this.uiId).subscribe((actions: any) => {\n        this.enabled = {};\n        for (const action of actions) {\n          this.enabled[action.action] = action.value || true;\n        }\n      });\n    }\n  }\n\n  public ngAfterViewInit() {\n    const handle = document.body.addEventListener('click', (event) => {\n      if (!(event.target as Element).closest('.fate-ui-dropdown')) {\n        this.dropdownAction = false;\n      }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\nimport { FateUiComponent } from './fate-ui/fate-ui.component';\nimport { FateInputComponent } from './fate-input/fate-input.component';\nimport { FateBootstrapComponent } from './fate-bootstrap/fate-bootstrap.component';\nimport { FateMaterialComponent } from './fate-material/fate-material.component';\nimport { FateLinkDropdownComponent } from './fate-link-dropdown/fate-link-dropdown.component';\n\nimport { FateControllerService } from './fate-controller.service';\nimport { FateHtmlParserService } from './fate-html-parser.service';\nimport { FateIconService } from './fate-icon.service';\nimport { FateMaterialIconService } from './fate-material-icon.service';\nimport { FateFontawsomeLegacyIconService } from './fate-fontawsome-legacy-icon.service';\nimport { FateParserService } from './fate-parser.service';\n\nexport { FateParser } from './fate-parser.interface';\nexport { FateIcon } from './fate-icon.interface';\nexport { FateDropdown } from './fate-dropdown.interface';\nexport { FateUiComponent } from './fate-ui/fate-ui.component';\nexport { FateInputComponent } from './fate-input/fate-input.component';\nexport { FateLinkDropdownComponent } from './fate-link-dropdown/fate-link-dropdown.component';\nexport { FateIconService } from './fate-icon.service';\nexport { FateMaterialIconService } from './fate-material-icon.service';\nexport { FateFontawsomeLegacyIconService } from './fate-fontawsome-legacy-icon.service';\nexport { FateParserService } from './fate-parser.service';\nexport { FateControllerService, FateCommand } from './fate-controller.service';\nexport { FateHtmlParserService } from './fate-html-parser.service';\nexport { FateNode } from './fate-node';\nexport { FateType } from './fate-type.enum';\n\n@NgModule({\n  declarations: [\n    FateInputComponent,\n    FateUiComponent,\n    FateBootstrapComponent,\n    FateMaterialComponent,\n    FateLinkDropdownComponent,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatFormFieldModule,\n  ],\n  exports: [\n    FateUiComponent,\n    FateInputComponent,\n    FateBootstrapComponent,\n    FateMaterialComponent,\n    FateLinkDropdownComponent\n  ],\n  entryComponents: [\n    FateLinkDropdownComponent\n  ]\n})\nexport class FateModule { }\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n"],"sourceRoot":"webpack:///"}